---
import Layout from '../../layouts/Layout.astro';
---

<Layout title="Chromeのブックマークレットにアイコン（ファビコン）を追加する - hrの備忘録" description="javascript: のブックマークレットはデフォルトでアイコンが表示されないので、ファビコンを付ける方法を紹介。">
  <main>
    <header class="article-header">
      <a href="/tips" class="back-link">← Tips一覧</a>
      <h1>Chromeのブックマークレットにアイコン（ファビコン）を追加する</h1>
    </header>

    <article class="article-body">
      <p>
        <code>javascript:</code> のブックマークレットは、Chrome のブックマークバーだとデフォルトの📄みたいなアイコンになる。そのままで好きなファビコンを付ける方法。
      </p>

      <h2>なぜアイコンが付かないか</h2>
      <p>
        URL が <code>javascript:...</code> だから、普通のページみたいに HTML を読まない。Chrome はアイコンを取れず、共通アイコンになる。
      </p>

      <h2>やり方（エクスポート → 編集 → インポート）</h2>
      <p>
        3ステップで付けられる。
      </p>

      <h3>1. 使いたいファビコンのページをブックマークする</h3>
      <p>
        アイコンに使いたいファビコンが出ているページを開いて、そのページをブックマークバーに追加する。これで「アイコン付きの普通のブックマーク」が1つできる。
      </p>

      <h3>2. ブックマークをエクスポートして HTML を編集する</h3>
      <p>
        Chrome の <strong>ブックマーク</strong> → <strong>ブックマークマネージャ</strong> を開き、右上の ⋮ から <strong>ブックマークをエクスポート</strong> で HTML で保存する。
      </p>
      <p>
        その HTML をエディタで開くと、1行1ブックマークでこんな形になっている。
      </p>
      <pre><code class="language-html">&lt;DT&gt;&lt;A HREF="https://example.com/page" ICON="data:image/png;base64,..."&gt;ページ名&lt;/A&gt;</code></pre>
      <p>
        <strong>1で追加したブックマーク</strong>の行には <code>ICON="..."</code> がある。この <code>ICON="..."</code> を引用符ごとコピーする。
      </p>
      <p>
        <strong>ブックマークレット</strong>の行を探す。<code>HREF="javascript:..."</code> だけで <code>ICON</code> が無い（かデフォルト）の行に、さっきコピーした <code>ICON="..."</code> をペーストする。
      </p>
      <p>編集前のブックマークレットの行：</p>
      <pre><code class="language-html">&lt;DT&gt;&lt;A HREF="javascript:alert(document.title)"&gt;タイトル表示&lt;/A&gt;</code></pre>
      <p>1のブックマークから <code>ICON="data:image/png;base64,iVBORw0K..."</code> をコピーして付けた後：</p>
      <pre><code class="language-html">&lt;DT&gt;&lt;A HREF="javascript:alert(document.title)" ICON="data:image/png;base64,iVBORw0K..."&gt;タイトル表示&lt;/A&gt;</code></pre>
      <p>
        編集したら HTML を保存する。
      </p>

      <h3>3. ブックマークをインポートする</h3>
      <p>
        既存のブックマークを整理したいときは、事前に不要なのを消すか別フォルダに退避しておく。Chrome の <strong>ブックマーク</strong> → <strong>ブックマークマネージャ</strong> で ⋮ → <strong>ブックマークをインポート</strong> を選び、2で編集した HTML を指定してインポートする。これで <code>javascript:</code> のままファビコンが出る。
      </p>

      <h2>ポイント</h2>
      <ul>
        <li>ファビコンは「そのアイコンが出ているページを1つブックマークする」だけで足りる。画像を自分で用意しなくていい。</li>
        <li>エクスポートした HTML では、アイコンが <code>data:image/png;base64,...</code> や <code>https://...</code> で <code>ICON</code> に入っている。</li>
        <li>ブックマークレットは <code>javascript:</code> のままなので、クリック時の動きは変わらない。</li>
      </ul>

      <h2>注意</h2>
      <ul>
        <li>インポートで既存と重なったりフォルダ構成が変わることがある。心配ならエクスポート前にバックアップか、テスト用フォルダで試すといい。</li>
      </ul>

    </article>

    <footer class="page-footer">
      <a href="/tips">Tips一覧に戻る</a> · <a href="/">トップに戻る</a>
    </footer>
  </main>
</Layout>

<style>
  main {
    max-width: 800px;
    margin: 0 auto;
    padding: 2rem 1rem;
    line-height: 1.7;
  }

  .article-header {
    margin-bottom: 2rem;
  }

  .back-link {
    display: inline-block;
    margin-bottom: 1rem;
    font-size: 0.9rem;
    color: #667eea;
    text-decoration: none;
  }

  .back-link:hover {
    text-decoration: underline;
  }

  h1 {
    font-size: 2rem;
    margin-bottom: 0.5rem;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .article-body h2 {
    font-size: 1.5rem;
    margin-top: 2rem;
    margin-bottom: 0.75rem;
    color: #333;
    border-bottom: 1px solid #e0e0e0;
    padding-bottom: 0.25rem;
  }

  .article-body h3 {
    font-size: 1.2rem;
    margin-top: 1.5rem;
    margin-bottom: 0.5rem;
    color: #444;
  }

  .article-body p, .article-body ul, .article-body ol {
    margin-bottom: 1rem;
    color: #444;
  }

  .article-body li {
    margin-bottom: 0.25rem;
  }

  .article-body code {
    background: rgba(30, 64, 175, 0.06);
    color: var(--color-code);
    padding: 0.15rem 0.4rem;
    border-radius: 4px;
    font-size: 0.9em;
  }

  pre {
    background: #2d2d2d;
    color: #f8f8f2;
    padding: 1rem 1.25rem;
    border-radius: 8px;
    overflow-x: auto;
    margin: 1rem 0;
    font-size: 0.9rem;
    line-height: 1.5;
  }

  pre code {
    background: none;
    color: inherit;
    padding: 0;
  }

  .page-footer {
    margin-top: 2.5rem;
    padding-top: 1.5rem;
    border-top: 1px solid #e0e0e0;
    font-size: 0.95rem;
  }

  .page-footer a {
    color: #667eea;
    text-decoration: none;
  }

  .page-footer a:hover {
    text-decoration: underline;
  }

  .page-footer a + a {
    margin-left: 0.5rem;
  }
</style>
