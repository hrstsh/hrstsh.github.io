# AI Development Rules for hrstsh.github.io

このファイルは、AIアシスタント（Cursor、Perplexity、その他のAIツール）がこのリポジトリで作業する際のガイドラインです。

## プロジェクト概要

- **目的**: GitHub Pages用の個人サイト
- **技術スタック**: Astro 4.x, TypeScript
- **デプロイ**: GitHub Actions (自動)
- **URL**: https://hrstsh.github.io

## 必須ルール

### 🔒 個人情報・機微情報の保護（最重要）

**絶対に守ること**: リポジトリ内に個人情報や機微情報を含めてはいけません。

#### 禁止事項

以下の情報は**絶対にコミットしない**こと：

- 個人を特定できる情報
  - 本名（フルネーム）
  - 住所（都道府県より詳細な情報）
  - 電話番号
  - メールアドレス（公開用以外）
  - 生年月日
  - 顔写真（本人が公開していないもの）
- 機微情報
  - パスワード、APIキー、トークン
  - 会社の機密情報、プロジェクト詳細
  - 収入、資産情報
  - 健康情報
  - 家族・友人の個人情報
  - SNSアカウント（非公開のもの）
- その他センシティブな情報
  - 具体的な勤務先名（業種・職種のみ可）
  - 学歴の詳細（大学名など）
  - 位置情報を含む写真のメタデータ

#### 許可される情報

- ニックネーム、ハンドルネーム
- 一般的な居住地域（「東京」程度）
- 職種（「Webエンジニア」など）
- 趣味、興味（一般的な範囲）
- 公開済みのGitHubアカウント
- 技術スキル、使用言語

#### Pages自動更新時の注意

- コンテンツ生成時、常に個人情報が含まれていないか確認
- 不確かな場合は、より一般的な表現に変更
- ユーザーの同意なく個人情報を追加しない
- このルールは**例外なく厳守**すること

### README.mdの更新

**重要**: コードやプロジェクト構成に変更を加えた場合、必ずREADME.mdを最新の状態に更新すること。

- 新しいページやコンポーネントを追加した場合
- 依存関係（package.json）を変更した場合
- ビルドやデプロイの手順が変わった場合
- 新しい機能や設定を追加した場合
- プロジェクト構成が変わった場合

README.mdには以下を含めること：
- プロジェクトの説明
- セットアップ手順
- 開発方法（ローカル実行、ビルド）
- デプロイ方法
- プロジェクト構成の説明

### コード品質

- TypeScriptの型定義を適切に使用する
- Astroのベストプラクティスに従う
- レスポンシブデザインを意識する
- アクセシビリティを考慮する

### ファイル構成

```
├── .github/
│   └── workflows/     # GitHub Actions
├── scripts/           # Git 操作などのシェルスクリプト
├── src/
│   ├── layouts/       # 共通レイアウト
│   ├── pages/         # ページ（ルーティング）
│   ├── components/    # 再利用可能なコンポーネント
│   └── styles/        # グローバルスタイル
├── public/            # 静的ファイル
├── .cursorrules       # このファイル
├── astro.config.mjs   # Astro設定
├── package.json       # 依存関係
└── README.md          # プロジェクト説明（常に最新に保つ）
```

### Git 操作（Cursor が行う場合）

ユーザーから「ブランチを切り替えて」「コミットして push して」など依頼されたときは、次のスクリプトを使うこと。リポジトリルートで実行する。

1. **作業ブランチへチェックアウト**
   - `./scripts/checkout-latest-branch.sh`
   - 説明: リモートを fetch し、main/master を除く「一番最近更新された」リモートブランチにチェックアウトする。feature ブランチで作業する前に実行する。

2. **変更をコミットして push**
   - `./scripts/commit-and-push.sh "<コミットメッセージ>"`
   - 説明: 全変更をステージし、指定メッセージでコミットしてから `git push origin HEAD` する。コミットメッセージはユーザー指示や変更内容に合わせて Cursor が具体的に指定する（日本語・英語どちらでも可）。
   - 例: `./scripts/commit-and-push.sh "レビュー反映: 〇〇の修正"`

直接 `git checkout` / `git commit` / `git push` を並べる代わりに、上記スクリプトを優先して使うこと。

### スタイリング

- コンポーネント内の `<style>` タグを使用（scoped styles）
- グローバルスタイルは `src/styles/global.css` に記述
- カラーテーマ: 紫系グラデーション（#667eea → #764ba2）を基調とする
- レスポンシブ: モバイルファーストで設計

### コミットメッセージ

- 日本語または英語で明確に記述
- 変更内容が分かる具体的な説明を含める
- 例: "Add blog page", "Update README with new features", "Fix responsive layout on mobile"

### Pull Request

- 変更内容の概要を記述
- 必要に応じてスクリーンショットを添付
- README更新が必要な変更の場合、PRに含めること

## 推奨事項

### パフォーマンス

- 画像は最適化してから追加
- 不要な依存関係は追加しない
- ビルドサイズを意識する

### SEO

- ページタイトルは適切に設定
- メタディスクリプションを追加
- セマンティックHTMLを使用

### 開発フロー

1. 新しいブランチを作成
2. 変更を実装
3. README.mdを更新（必要な場合）
4. コミット
5. Pull Requestを作成
6. レビュー後、mainにマージ
7. GitHub Actionsが自動デプロイ

## 注意事項

- mainブランチへの直接pushは避ける
- GitHub Actionsのワークフローを変更する場合は慎重に
- package.jsonを更新した場合、package-lock.jsonも含めることを検討
- **個人情報・機微情報は絶対にリポジトリに含めない（再確認）**
